\section{Renewable Energy Demonstrator Testbench}
\label{REDtestbench}
For testing the capability of the Sun Sensor to correctly detect the location of the light source, a test bench was required that could reliably place the location of the light at a precise location repeatedly. For this purpose we used a project built by our colleagues in the \acf{EPS} year 2021/22 who createad just such a device intended for demonstrating renewable energy creation live and interacte~\cite{RefWorks:shopov2022renewable}. Their device was able to demonstrate the energy levels created by a Photovoltaic (PV) cell by light emited at different angles. The light emission would change location based on time of day and the PV cell readings would show the difference in energy. Futher the PV cell was controllable by a joystick to point the PV Cell at the optimum angle for the highest energy capture. For our project, the arch and LED strip were used for outputing light from different angles. The photovoltaic cell was removed together with the servomotor to make space for our \ac{PSD} device.  The \ac{RED} device was composed of two separate Arduino microcontrollers:
\begin{enumerate}
    \item Arduino Uno - for controlling the Arch 
    \item Arduino Nano - for controlling the LED Strip
\end{enumerate}

The \textbf{Arduino Uno} was the main controller which not only controlled the Arch assembly, but also acted as the primary controller, receiving inputs from a button and joystick, updating an LED screen and sending an impulse to the secondary Arduino Nano for controlling the LED Strip.
\subsubsection*{Analysis of High Frequency Noise in AC-DC Power Supply}
Interference structure of around 170kHz with 400mV peak-to-peak was detected on the signal being received while the RED testbench was on as shown in Figure~\ref{fig:sigNoise}. This noise could be generated by several factors in the AC power supply used by the RED testbench:
\begin{enumerate}[label=\arabic*.]
\item \textbf{Switching frequency harmonics} --- If it's a switch-mode power supply (SMPS), the fundamental switching frequency or its harmonics might be causing the noise. Many SMPS operate in the 50--200,kHz range.
\item \textbf{Poor filtering} --- Inadequate output filtering (insufficient capacitance or poor quality capacitors) can allow switching noise to appear on the output.
\item \textbf{Improper design of magnetics} --- Issues with the transformer or inductor design could cause ringing or oscillations.
\item \textbf{Resonance in the circuit} --- Parasitic capacitance and inductance forming a resonant circuit at around 170,kHz.
\item \textbf{Control loop instability} --- PWM controller instability can cause oscillations.
\item \textbf{Ground loops or poor PCB layout} --- Improper grounding or PCB layout can create noise paths.~\cite{RefWorks:giuliattini2006prediction}
\end{enumerate}
To avoid spending time diagnosing and trying to repair the testbench, an easier solution was reached: performing digital filtering of the acquired signal in post processing. Due to the signal of interest being close to DC - frequencies much lower than 1Hz, and the noise being high frequency, around 175kHz, a simple digital Butterworth filter with a cutoff frequency at around 1-2 Hertz was found to be a good solution.

The only remaining issue was that this noise would sometimes trigger the internal components of the testbench, unintentionally triggering the button press from the control interface that was changing the light position, but it happened so rare that it was not a major concern.